const advance=2.5;stop(".btn-blocked");const cards=[{card:"visa",debit:1.35,credit:1.89,installments:[2.99,3.5]},{card:"master",debit:1.35,credit:1.89,installments:[2.99,3.5]},{card:"hiper",debit:0,credit:2.5,installments:[3.39,3.84]},{card:"elo",debit:1.89,credit:2.99,installments:[3.59,3.99]},{card:"american express",debit:0,credit:3.99,installments:[4.29,4.59]},{card:"cabal",debit:5,credit:5,installments:[5.25,5.5]},{card:"unionpay",debit:4,credit:4,installments:[4,4]}];function calc(){let a=$("#price").val(),c=$("#flag").val(),e=$("#installments").val();$("#currency").html(calculating(a.replace("R$ ","").replace(".","").replace(",","."),e,c))}function calculating(a,c=0,e=0){console.log(a,c,e);let t=2;return 0==+c?t=a/(100-(advance+cards[e].credit))*100:+c>0&&+c<7?t=a/(100-(advance+cards[e].installments[0]*c))*100:+c>=7&&(t=a/(100-(advance+cards[e].installments[1]*c))*100),console.log(`(${a} / (100- (${advance} + ${cards[e].credit})))*100`),accounting.formatMoney(t,"R$",2,".",",")}$("#price").maskMoney(),$("#price").on("keyup",()=>{calc()}),$("#flag").on("change",()=>{calc()}),$("#installments").on("change",()=>{calc()});
